// You are working on a logic game made up of a series of puzzles. The first type of puzzle you settle on is "sub-Sudoku", a game where the player has to position the numbers 1..N on an NxN matrix. Your job is to write a function that, given an NxN matrix, returns true if  every row and column contains the numbers 1..N. The UI for the game does not do any validation on the numbers the player enters, so the matrix can contain any signed integer.

// Example input: grid1 = [[2, 3, 1],
//          [1, 2, 3],
//          [3, 1, 2]]            
// Expected output: true

// Example input: grid2 = [[1, 2, 3],
//          [3, 2, 1],
//          [3, 1, 2]]            
// Expected output: false


function isSudoku(grid){
    const n =grid.length;
    const validSet = new Set();
    for(let i=1; i<=n; i++){
        validSet.add(i);
    }
    
    console.log(validSet);
    for(let i=0; i<n; i++){
        const rowSet = new Set(grid[i]);
        if(rowSet.size !==n)return false;

        for(let num of validSet){
            if(!rowSet.has(num)) return false;
        }
    }

    //rows

    for(let i=0; i<n; i++){
        const colSet = new Set();
        for(let j=0;j<n; j++){
            colSet.add(grid[j][i]);
        }
        if(colSet.size !==n)return false;

        for(let num of validSet){
            if(!colSet.has(num)) return false;
        }
    }
    return true;
}

// Code Generated by Sidekick is for learning and experimentation purposes only.
const grid1 = [
    [2, 3, 1],
    [1, 2, 3],
    [3, 1, 2]
];
console.log(isSudoku(grid1)); // true

const grid2 = [
    [1, 2, 3],
    [3, 2, 1],
    [3, 1, 2]
];
console.log(isSudoku(grid2)); // false
